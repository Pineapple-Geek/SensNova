var MToolTip="",CToolTip="",DToolTip="",EToolTip="",Metal=!1,Crystal=!1,Deuterium=!1,UpdaterInit=!1,Metal_Rest=0,Crystal_Rest=0,Deuterium_Rest=0,red="red",lime="lime",UpdaterObjects={},ReplaceArr=new Array("_ResName_","_ResIncome_","_ResFullTime_","_ResStoreStatus_"),ResTipStyle={classes:"tiptip_content ui-tooltip-tipsy ui-tooltip-shadow"},qTipSettings={show:{delay:0,effect:!1},hide:{delay:0,effect:!1},style:ResTipStyle};function intval(mixed_var,base){var tmp,type=typeof mixed_var;return"boolean"===type?mixed_var?1:0:"string"===type?(tmp=parseInt(mixed_var,base||10),isNaN(tmp)||!isFinite(tmp)?0:tmp):"number"===type&&isFinite(mixed_var)?Math.floor(mixed_var):0}function number_format(value){value+="";for(var rgx=/(\d+)(\d\d\d)/;rgx.test(value);)value=value.replace(rgx,"$1.$2");return value}function Update(Met_PerHour,Cry_PerHour,Deu_PerHour,Met_Max,Cry_Max,Deu_Max,Met_MaxOver,Cry_MaxOver,Deu_MaxOver,Met_Cur,Cry_Cur,Deu_Cur){var setMetalColor,setCrystalColor,setDeuteriumColor;if(!1===UpdaterInit&&(UpdaterObjects.Metal=$("#metal"),UpdaterObjects.Crystal=$("#crystal"),UpdaterObjects.Deuterium=$("#deut"),UpdaterObjects.MetalMax=$("#metalmax"),UpdaterObjects.CrystalMax=$("#crystalmax"),UpdaterObjects.DeuteriumMax=$("#deuteriummax"),UpdaterInit=!0),!1===Metal&&(Metal=intval(Met_Cur)),!1===Crystal&&(Crystal=intval(Cry_Cur)),!1===Deuterium&&(Deuterium=intval(Deu_Cur)),Metal<Met_MaxOver){var Met_PerSec=Met_PerHour/3600,IntMet_PerSec=intval(Met_PerSec),Met_Rest;Metal+=IntMet_PerSec,(Metal_Rest+=Met_PerSec-IntMet_PerSec)>1&&(Metal+=1,Metal_Rest-=1),setMetalColor=Metal>Met_Max?red:lime,Metal>Met_MaxOver&&(Metal=intval(Met_MaxOver))}else setMetalColor=red;if(Crystal<Cry_MaxOver){var Cry_PerSec=Cry_PerHour/3600,IntCry_PerSec=intval(Cry_PerSec),Cry_Rest;Crystal+=IntCry_PerSec,(Crystal_Rest+=Cry_PerSec-IntCry_PerSec)>1&&(Crystal+=1,Crystal_Rest-=1),setCrystalColor=Crystal>Cry_Max?red:lime,Crystal>Cry_MaxOver&&(Crystal=intval(Cry_MaxOver))}else setCrystalColor=red;if(Deuterium<Deu_MaxOver||Deu_PerHour<0){var Deu_PerSec=Deu_PerHour/3600,IntDeu_PerSec=intval(Deu_PerSec),Deu_Rest;Deuterium+=IntDeu_PerSec,(Deuterium_Rest+=Deu_PerSec-IntDeu_PerSec)>1&&(Deuterium+=1,Deuterium_Rest-=1),setDeuteriumColor=Deuterium>Deu_Max?red:lime,Deuterium>Deu_MaxOver&&Deu_PerHour>0&&(Deuterium=intval(Deu_MaxOver))}else setDeuteriumColor=red;UpdaterObjects.Metal.html(number_format(Metal)).css("color",setMetalColor),UpdaterObjects.Crystal.html(number_format(Crystal)).css("color",setCrystalColor),UpdaterObjects.Deuterium.html(number_format(Deuterium)).css("color",setDeuteriumColor),UpdaterObjects.MetalMax.css("color",setMetalColor),UpdaterObjects.CrystalMax.css("color",setCrystalColor),UpdaterObjects.DeuteriumMax.css("color",setDeuteriumColor)}function ArrayReplace(Org,Search,Replace){for(var SearchLen=Search.length,i=0;i<SearchLen;i+=1)Org=Org.replace(Search[i],Replace[i]);return Org}$(document).ready(function(){var ResElements={met:$("#resMet"),cry:$("#resCry"),deu:$("#resDeu"),eng:$("#resEng")},PlanetList=$("#planet");$("#plType").is(":visible")?$(".plBut").width(PlanetList.width()/2-$("#plType").width()+2):$(".plBut").width(PlanetList.width()/2+1),$("#prevPl").click(function(){PlanetList.children().length>1&&(PlanetList.children(":first-child").is(":selected")?PlanetList.children(":last-child").attr("selected",!0):PlanetList.children(":selected").prev().attr("selected",!0),PlanetList.change())}),$("#nextPl").click(function(){PlanetList.children().length>1&&(PlanetList.children(":last-child").is(":selected")?PlanetList.children(":first-child").attr("selected",!0):PlanetList.children(":selected").next().attr("selected",!0),PlanetList.change())}),PlanetList.change(function(){eval("location='"+$(this).val()+"'")}),$("#plType").click(function(){PlanetList.val($('option[value*="cp='+$(this).attr("data-id")+'"]',PlanetList).val()).change()}),ResElements.met.qtip($.extend({content:MToolTip,position:{target:$("#metalmax"),my:"top center",at:"bottom center",adjust:{y:10}}},qTipSettings)),$(".resMet:not(#resMet)").hover(function(){ResElements.met.mouseover()},function(){ResElements.met.mouseout()}),ResElements.cry.qtip($.extend({content:CToolTip,position:{target:$("#crystalmax"),my:"top center",at:"bottom center",adjust:{y:10}}},qTipSettings)),$(".resCry:not(#resCry)").hover(function(){ResElements.cry.mouseover()},function(){ResElements.cry.mouseout()}),ResElements.deu.qtip($.extend({content:DToolTip,position:{target:$("#deuteriummax"),my:"top center",at:"bottom center",adjust:{y:10}}},qTipSettings)),$(".resDeu:not(#resDeu)").hover(function(){ResElements.deu.mouseover()},function(){ResElements.deu.mouseout()}),ResElements.eng.qtip($.extend({content:EToolTip,position:{target:$("#showET"),my:"top center",at:"bottom center",adjust:{y:10}}},qTipSettings)),$(".resEnr:not(#resEng)").hover(function(){ResElements.eng.mouseover()},function(){ResElements.eng.mouseout()})});